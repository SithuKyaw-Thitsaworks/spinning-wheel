class t{constructor(t={}){this.t=t.t||[{label:"Prize 1",color:"#FF6B6B"},{label:"Prize 2",color:"#4ECDC4"},{label:"Prize 3",color:"#45B7D1"},{label:"Prize 4",color:"#96CEB4"},{label:"Prize 5",color:"#FFEEAD"},{label:"Prize 6",color:"#D4A5A5"},{label:"Prize 7",color:"#9ED2C6"},{label:"Prize 8",color:"#FFB6B8"}];this.i=t.i||5e3;this.o=t.o||(t=>console.log("Won:",t));this.l=0;this.h=false;this.u=document.querySelector(".wheel-svg");this.m=document.querySelector(".spin-button");this.init()}init(){this.g();this.m.addEventListener("click",()=>{let t=document.getElementById("segmentInput").value;if(Number(t)>this.t.length){alert("Invalid segment idex.");return}if(Number(t)===0){this.$()}else{this.$(Number(t)-1)}})}g(){const h="http://www.w3.org/2000/svg";const c=360/this.t.length;this.t.forEach((t,s)=>{const e=s*c;const i=(s+1)*c;const o=document.createElementNS(h,"path");const l=c*Math.PI/180;const n=`M50 50 L50 0 A50 50 0 0 1 ${50+50*Math.sin(l)} ${50-50*Math.cos(l)} Z`;o.setAttribute("d",n);o.setAttribute("fill",t.color);o.setAttribute("transform",`rotate(${e} 50 50)`);const r=document.createElementNS(h,"text");r.textContent=t.label;r.setAttribute("x","50");r.setAttribute("y","20");r.setAttribute("class","segment-text");r.setAttribute("text-anchor","middle");r.setAttribute("transform",`
    rotate(${e+c/2} 50 50)
`);this.u.appendChild(o);this.u.appendChild(r)})}$(t=null){if(this.h)return;this.h=true;this.m.disabled=true;const e=360/this.t.length;let i;if(t!==null){const s=360-(t*e+e/2);i=s+1440}else{i=1440+Math.random()*1440}this.u.style.transition=`transform ${this.i}ms cubic-bezier(0.32, 0.94, 0.60, 1)`;this.u.style.transform=`rotate(${i}deg)`;setTimeout(()=>{const t=i%360;const s=Math.floor((360-t)/e%this.t.length);this.u.style.transition="none";this.u.style.transform=`rotate(${t}deg)`;void this.u.offsetWidth;this.u.style.transition=`transform ${this.i}ms cubic-bezier(0.32, 0.94, 0.60, 1)`;this.h=false;this.m.disabled=false;this.o(this.t[s])},this.i)}}const s=new t({o:t=>{alert(`Congratulations! You won: ${t.label}`)}});